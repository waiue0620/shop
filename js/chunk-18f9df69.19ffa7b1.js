(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18f9df69"],{"23ef":function(t,a,e){},4904:function(t,a,e){},"4a2f":function(t,a,e){"use strict";var s=e("dfbe"),i=e.n(s);i.a},"56a6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert mt-4"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v("\n    "+t._s(a.message)+"\n    "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},i=[],n=(e("ac6a"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)})}}),r=n,o=(e("4a2f"),e("2877")),c=Object(o["a"])(r,s,i,!1,null,null,null);a["a"]=c.exports},"6ff8":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"itemCard"},[e("a",{staticClass:"itemCard-img",style:"background-image: url('"+t.cardData.imageUrl+"')",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.productInfo(a)}}}),e("div",{staticClass:"itemCard-body"},[e("h3",[t._v(t._s(t.cardData.title))]),e("p",[t._v(t._s(t.cardData.description))])]),e("div",{staticClass:"itemCard-price"},[e("span",[t._v("原價 "+t._s(t._f("currency")(t.cardData.origin_price)))]),e("h4",{staticClass:"text-danger"},[t._v("售價 "+t._s(t._f("currency")(t.cardData.price)))])]),e("div",{staticClass:"itemCard-footer"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block",attrs:{disabled:""!=t.loadingStatus.loadingItem},on:{click:function(a){return a.preventDefault(),t.productInfo(a)}}},[t.loadingStatus.loadingItem===t.cardData.id?e("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):e("i",{staticClass:"fas fa-search mr-1"}),t._v("詳細介紹\n          ")])]),e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block",attrs:{disabled:""!=t.loadingStatus.loadingItem},on:{click:function(a){return a.preventDefault(),t.addtoCart(a)}}},[t.loadingStatus.loadingItem===t.cardData.id?e("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):e("i",{staticClass:"fas fa-cart-plus mr-1"}),t._v("加到購物車\n          ")])])])])])])},i=[],n={name:"itemCard",props:{cardData:{type:Object,default:function(){return{}}},loadingStatus:{type:Object,default:function(){return{}}}},methods:{addtoCart:function(){var t=this;t.$emit("addtoCart",t.cardData.id)},productInfo:function(){var t=this;t.$router.push("/detailed/".concat(t.cardData.id))}}},r=n,o=(e("b36e"),e("2877")),c=Object(o["a"])(r,s,i,!1,null,"0ad6b517",null);a["a"]=c.exports},"90b0":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top"},[e("div",{staticClass:"container"},[t._m(0),t._m(1),e("router-link",{staticClass:"px-2 d-s-none d-block order-lg-1 position-relative",attrs:{to:"/customer"}},[e("i",{staticClass:"fas fa-shopping-cart"}),e("span",{staticClass:"badge badge-pill badge-danger"},[t._v("\n          "+t._s(t.cart.carts.length)+"\n        ")])]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto align-items-center"},[e("li",{staticClass:"nav-item px-3"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/index"}},[t._v("首頁")])],1),e("li",{staticClass:"nav-item px-3"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shopping"}},[t._v("商品列表")])],1),e("li",{staticClass:"nav-item mr-auto mb-0 d-none d-s-block"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/customer"}},[e("i",{staticClass:"fas fa-shopping-cart"})])],1)])])],1)])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler p-0 border-0",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",{staticClass:"logo mb-0 mx-auto"},[e("a",{staticClass:"text-hide",attrs:{href:"#/index"}},[t._v("logo")])])}],n={name:"Navbar",data:function(){return{cart:{carts:[]}}},methods:{signout:function(){var t=this,a="".concat("https://vue-course-api.herokuapp.com","/logout");this.$http.post(a).then(function(a){console.log(a.data),a.data.success&&t.$router.push("/signin")})},getCart:function(){var t=this,a="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/cart");this.$http.get(a).then(function(a){t.cart=a.data.data})}},created:function(){this.getCart()}},r=n,o=(e("e239"),e("2877")),c=Object(o["a"])(r,s,i,!1,null,"265d4462",null);a["a"]=c.exports},9799:function(t,a,e){"use strict";var s=e("23ef"),i=e.n(s);i.a},ac6a:function(t,a,e){for(var s=e("cadf"),i=e("0d58"),n=e("2aba"),r=e("7726"),o=e("32e9"),c=e("84f2"),u=e("2b4c"),l=u("iterator"),d=u("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(f),g=0;g<m.length;g++){var v,h=m[g],C=f[h],b=r[h],_=b&&b.prototype;if(_&&(_[l]||o(_,l,p),_[d]||o(_,d,h),c[h]=p,C))for(v in s)_[v]||n(_,v,s[v],!0)}},af5e:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container p-0"},[e("div",[e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.filterData,function(a){return e("swiper-slide",{key:a.id},[e("ItemCard",{attrs:{"card-data":a,loadingStatus:t.status},on:{addtoCart:t.addtoCart}})],1)}),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])])},i=[],n=e("6ff8"),r={name:"home",components:{ItemCard:n["a"]},data:function(){return{swiperOption:{spaceBetween:10,centeredSlides:!1,grabCursor:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},slidesPerView:4,slidesPerGroup:4,breakpoints:{480:{slidesPerView:1,slidesPerGroup:1,spaceBetween:20},767:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10},992:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20}}},products:[],status:{loadingItem:""}}},props:{card:{type:Object,default:function(){return{}}}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/products/all");t.isLoading=!0,this.$http.get(a).then(function(a){t.products=a.data.products,console.log(a),t.isLoading=!1})},addtoCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,i="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/cart");s.status.loadingItem=t;var n={product_id:t,qty:e};this.$http.post(i,{data:n}).then(function(t){console.log(t),s.status.loadingItem="",t.data.success?a.$bus.$emit("message:push",t.data.message,"success"):a.$bus.$emit("message:push",t.data.message,"danger")})}},computed:{filterData:function(){var t=this;return console.log(t.card.category),t.card.category?t.products.filter(function(a){return a.category===t.card.category}):t.products}},created:function(){this.getProducts()}},o=r,c=(e("f1e2"),e("2877")),u=Object(c["a"])(o,s,i,!1,null,"361d13a1",null);a["a"]=u.exports},b36e:function(t,a,e){"use strict";var s=e("f376"),i=e.n(s);i.a},dfbe:function(t,a,e){},e239:function(t,a,e){"use strict";var s=e("4904"),i=e.n(s);i.a},e7f2:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Navber"),e("Alert"),e("div",{staticClass:"container mt-4 content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-7"},[e("img",{staticClass:"bg-cover img-fluid",attrs:{src:t.product.imageUrl,alt:""}})]),e("div",{staticClass:"col-md-5"},[e("h2",[t._v(t._s(t.product.title))]),e("p",[t._v(t._s(t.product.description))]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("原價 "+t._s(t._f("currency")(t.product.origin_price)))]),e("h4",{staticClass:"text-danger"},[t._v("售價 "+t._s(t._f("currency")(t.product.price)))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("\n            選購 "+t._s(a)+" "+t._s(t.product.unit)+"\n          ")])}),0),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n            小計 "),e("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元\n          ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""!=t.status.loadingItem},on:{click:function(a){return t.addtoCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])]),e("CardSwiper",{staticClass:"mt-5",attrs:{card:t.product}}),t._m(0)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"footer mt-3"},[e("p",{staticClass:"text-center m-0"},[t._v("資料、圖片來源皆來自網路，僅用來做為學習用途。")])])}],n=e("90b0"),r=e("56a6"),o=e("af5e"),c={components:{Navber:n["a"],Alert:r["a"],CardSwiper:o["a"]},data:function(){return{productId:"",product:{},status:{loadingItem:""},isLoading:!1}},methods:{getProduct:function(t){var a=this,e="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/product/").concat(a.productId);a.isLoading=!0,this.$http.get(e).then(function(t){a.product=t.data.product,a.product.num=1,console.log(t),a.isLoading=!1})},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/cart");e.status.loadingItem=t;var i={product_id:t,qty:a};this.$http.post(s,{data:i}).then(function(t){console.log(t),e.status.loadingItem="",e.message(t)})},message:function(t){t.data.success?this.$bus.$emit("message:push",t.data.message,"success"):this.$bus.$emit("message:push",t.data.message,"danger")}},created:function(){this.productId=this.$route.params.productId,this.getProduct()}},u=c,l=(e("9799"),e("2877")),d=Object(l["a"])(u,s,i,!1,null,"24c5688c",null);a["default"]=d.exports},e825:function(t,a,e){},f1e2:function(t,a,e){"use strict";var s=e("e825"),i=e.n(s);i.a},f376:function(t,a,e){}}]);
//# sourceMappingURL=chunk-18f9df69.19ffa7b1.js.map