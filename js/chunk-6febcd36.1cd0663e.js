(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6febcd36"],{1799:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[0!=t.pageData.total_pages?e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pageData.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pageData.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pageData.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pageData.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)]):t._e()])},n=[],s={name:"pagination",props:{pageData:{type:Object,default:function(){return{}}}},methods:{changePage:function(t){window.scrollTo({top:0}),this.$emit("emitPages",t)}}},r=s,c=e("2877"),o=Object(c["a"])(r,i,n,!1,null,null,null);a["a"]=o.exports},"2eef":function(t,a,e){},4917:function(t,a,e){"use strict";var i=e("cb7c"),n=e("9def"),s=e("0390"),r=e("5f1b");e("214f")("match",1,function(t,a,e,c){return[function(e){var i=t(this),n=void 0==e?void 0:e[a];return void 0!==n?n.call(e,i):new RegExp(e)[a](String(i))},function(t){var a=c(e,t,this);if(a.done)return a.value;var o=i(t),l=String(this);if(!o.global)return r(o,l);var u=o.unicode;o.lastIndex=0;var d,p=[],g=0;while(null!==(d=r(o,l))){var f=String(d[0]);p[g]=f,""===f&&(o.lastIndex=s(l,n(o.lastIndex),u)),g++}return 0===g?null:p}]})},"6ff8":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"itemCard"},[e("a",{staticClass:"itemCard-img",style:"background-image: url('"+t.cardData.imageUrl+"')",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.productInfo(a)}}}),e("div",{staticClass:"itemCard-body"},[e("h3",[t._v(t._s(t.cardData.title))]),e("p",[t._v(t._s(t.cardData.description))])]),e("div",{staticClass:"itemCard-price"},[e("span",[t._v("原價 "+t._s(t._f("currency")(t.cardData.origin_price)))]),e("h4",{staticClass:"text-danger"},[t._v("售價 "+t._s(t._f("currency")(t.cardData.price)))])]),e("div",{staticClass:"itemCard-footer"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block",attrs:{disabled:""!=t.loadingStatus.loadingItem},on:{click:function(a){return a.preventDefault(),t.productInfo(a)}}},[t.loadingStatus.loadingItem===t.cardData.id?e("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):e("i",{staticClass:"fas fa-search mr-1"}),t._v("詳細介紹\n          ")])]),e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block",attrs:{disabled:""!=t.loadingStatus.loadingItem},on:{click:function(a){return a.preventDefault(),t.addtoCart(a)}}},[t.loadingStatus.loadingItem===t.cardData.id?e("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):e("i",{staticClass:"fas fa-cart-plus mr-1"}),t._v("加到購物車\n          ")])])])])])])},n=[],s={name:"itemCard",props:{cardData:{type:Object,default:function(){return{}}},loadingStatus:{type:Object,default:function(){return{}}}},methods:{addtoCart:function(){var t=this;t.$emit("addtoCart",t.cardData.id)},productInfo:function(){var t=this;t.$router.push("/detailed/".concat(t.cardData.id))}}},r=s,c=(e("b36e"),e("2877")),o=Object(c["a"])(r,i,n,!1,null,"0ad6b517",null);a["a"]=o.exports},"72da":function(t,a,e){"use strict";var i=e("2eef"),n=e.n(i);n.a},b36e:function(t,a,e){"use strict";var i=e("f376"),n=e.n(i);n.a},bb63:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container mt-4"},[e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-md-8 col-lg-4"},[e("div",{staticClass:"input-group mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchFilter,expression:"searchFilter",modifiers:{trim:!0}}],staticClass:"form-control border border-main text-main",attrs:{type:"text",placeholder:"Search something..."},domProps:{value:t.searchFilter},on:{input:[function(a){a.target.composing||(t.searchFilter=a.target.value.trim())},t.searchProducts],blur:function(a){return t.$forceUpdate()}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-becare text-main border border-main border-left-0",attrs:{type:"button"},on:{click:t.searchProducts}},[e("i",{staticClass:"fas fa-search"})])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 col-lg-3"},[e("ul",{staticClass:"menu-group"},[e("li",[e("a",{class:{active:"All"===t.prodCategory},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("All")}}},[t._v("所有產品")])]),e("li",[e("a",{class:{active:"沙發"===t.prodCategory},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("沙發")}}},[t._v("沙發")])]),e("li",[e("a",{class:{active:"桌"===t.prodCategory},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("桌")}}},[t._v("桌")])]),e("li",[e("a",{class:{active:"收納"===t.prodCategory},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("收納")}}},[t._v("收納")])])])]),e("div",{staticClass:"col-md-8 col-lg-9"},[e("div",{staticClass:"row"},t._l(t.filterPager,function(a){return e("div",{key:a.id,staticClass:"col-lg-4 col-md-6 mb-4"},[e("ItemCard",{attrs:{"card-data":a,loadingStatus:t.status},on:{addtoCart:t.addtoCart}})],1)}),0),e("pagination",{attrs:{"page-data":t.pagination},on:{emitPages:t.getPagination}})],1)])])],1)},n=[],s=(e("4917"),e("6ff8")),r=e("1799"),c={components:{ItemCard:s["a"],pagination:r["a"]},data:function(){return{products:[],pagination:{page_Size:6,total_pages:1,current_page:1,has_pre:!1,has_next:!1},prodCategory:"All",searchFilter:"",searchResult:[],status:{loadingItem:""},isLoading:!1}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/products/all");t.isLoading=!0,this.$http.get(a).then(function(a){t.products=a.data.products,console.log(a),t.isLoading=!1})},getPagination:function(t){var a=this;a.pagination.current_page=t,window.scrollTo({top:430})},changeTab:function(t){var a=this;a.prodCategory=t,a.pagination.current_page=1},searchProducts:function(){var t=this;t.pagination.current_page=1,t.prodCategory="All",t.searchFilter?t.searchResult=t.products.filter(function(a){return a.title.match(t.searchFilter)}):t.searchResult=[]},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,i="".concat("https://vue-course-api.herokuapp.com","/api/").concat("zivue","/cart");e.status.loadingItem=t;var n={product_id:t,qty:a};this.$http.post(i,{data:n}).then(function(t){console.log(t),e.status.loadingItem="",e.message(t)})},message:function(t){t.data.success?this.$bus.$emit("message:push",t.data.message,"success"):this.$bus.$emit("message:push",t.data.message,"danger")}},created:function(){this.getProducts()},computed:{filterData:function(){var t=this;return t.searchFilter||t.searchResult.length?t.searchResult:t.products.filter(function(a){return"All"===t.prodCategory?a:a.category===t.prodCategory})},filterPager:function(){var t=this,a=t.pagination.page_Size;t.pagination.total_pages=Math.ceil(t.filterData.length/a);var e=t.pagination.current_page;return t.pagination.has_pre=e>1,e<t.pagination.total_pages?t.pagination.has_next=!0:t.pagination.has_next=!1,t.filterData.filter(function(t,i){return i>=(e-1)*a&&i<e*a})}}},o=c,l=(e("72da"),e("2877")),u=Object(l["a"])(o,i,n,!1,null,"0f8e6f2b",null);a["default"]=u.exports},f376:function(t,a,e){}}]);
//# sourceMappingURL=chunk-6febcd36.1cd0663e.js.map